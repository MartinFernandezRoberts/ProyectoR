import{o as n,c as e,a,w as r,F as t,g as o,d as i,P as s,p as l,h as c,i as d,v as u,r as p,j as g,k as h,l as m,t as b,b as f,f as x,s as y,m as k,n as v,q as w,u as C,x as B,y as I,e as j}from"./vendor.e789b45d.js";import{C as U}from"./index.1bddf2b0.js";const D={name:"Panel"},F={class:"\r\n            flex\r\n            items-center\r\n            justify-between\r\n            flex-wrap\r\n            bg-black\r\n            p-6\r\n            mb-10\r\n            text-white\r\n        "},$=a("div",{class:"flex items-center"},[a("h1",{class:"text-xl font-bold"},"ProyectoR"),a("h2",null,[a("span",{class:"text-pink-600 font-bold mx-1"}," >"),o("Panel de Control ")])],-1),S=o(" Casa "),M=a("span",{class:"mx-2"},"|",-1),_=o(" Banners "),G=a("span",{class:"mx-2"},"|",-1),z=o(" Banner Test ");D.render=function(o,s,l,c,d,u){const p=i("router-link"),g=i("router-view");return n(),e(t,null,[a("nav",F,[$,a("div",null,[a(p,{to:"/panel/casa","active-class":"text-pink-600 font-bold"},{default:r((()=>[S])),_:1}),M,a(p,{to:"/panel/banners","active-class":"text-pink-600 font-bold"},{default:r((()=>[_])),_:1}),G,a(p,{to:"/panel/banner_test","active-class":"text-pink-600 font-bold"},{default:r((()=>[z])),_:1})])]),a(g)],64)};const L={name:"UploadIcon"},V={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor"},E=a("g",{"data-name":"Upload Image"},[a("g",{"data-name":"<Group>"},[a("g",{"data-name":"<Group>"},[a("g",{"data-name":"<Group>"},[a("circle",{"data-name":"<Path>",cx:"18.5",cy:"16.5",r:"5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"})]),a("path",{"data-name":"<Path>",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 15.5l2-2 2 2M18.5 13.5v6"})]),a("g",{"data-name":"<Group>",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{"data-name":"<Path>",d:"M.6 15.42l5.4-5.4L8.98 13"}),a("path",{"data-name":"<Path>",d:"M17.16 11.68L12.5 7.02l-4.73 4.77"}),a("circle",{"data-name":"<Path>",cx:"8",cy:"6.02",r:"1.5"}),a("path",{"data-name":"<Path>",d:"M19.5 11.6V4A1.5 1.5 0 0018 2.5H2A1.5 1.5 0 00.5 4v11A1.5 1.5 0 002 16.5h11.5"})])])],-1);L.render=function(a,r,t,o,i,s){return n(),e("svg",V,[E])};const P={name:"DeleteIcon"},T={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},A=a("circle",{cx:"12",cy:"12",r:"10"},null,-1),O=a("path",{d:"M15 9l-6 6M9 9l6 6"},null,-1);P.render=function(a,r,t,o,i,s){return n(),e("svg",T,[A,O])};const R={name:"ZoomIcon"},H={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},N=a("circle",{cx:"11",cy:"11",r:"8"},null,-1),q=a("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},null,-1),Z=a("line",{x1:"11",y1:"8",x2:"11",y2:"14"},null,-1),J=a("line",{x1:"8",y1:"11",x2:"14",y2:"11"},null,-1);R.render=function(a,r,t,o,i,s){return n(),e("svg",H,[N,q,Z,J])};const K={name:"StarIcon"},Q={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},W=a("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},null,-1);K.render=function(a,r,t,o,i,s){return n(),e("svg",Q,[W])};const X={name:"MultiImgDrop",components:{UploadIcon:L,DeleteIcon:P,ZoomIcon:R,StarIcon:K},props:{images:Array},emits:["update"],data:()=>({previews:[],dragging:!1,modal:!1,curSlide:0,featured:0,scrollbar:null}),computed:{notEmpty(){return this.images.length>0}},methods:{drop(n){console.log("image dropped"),this.addFiles(n.dataTransfer.files),this.dragging=!1},addFiles(n){const e=this.images,a=this;for(let r=0;r<n.length;r++){const t=n[r];console.log("adding image "+r),a.previews.push(URL.createObjectURL(t)),e.push(t)}console.log("updating images..."),this.$emit("update",e),setTimeout((()=>{console.log("updating scrollbar..."),this.scrollbar.update()}),100)},rmFile(n){n<this.featured?this.featured--:n==this.featured&&(this.featured=0);const e=this.images;e.splice(n,1),this.previews.splice(n,1),this.$emit("update",e),this.$nextTick((function(){this.scrollbar.update()}))},limpiar(){this.previews.length=0,this.$emit("update",[])},openLightbox(n){this.curSlide=n,this.modal=!0},slide(n){(n+=this.curSlide)<0?n=this.images.length-1:n==this.images.length&&(n=0),this.curSlide=n}},mounted(){this.scrollbar=new s("#previews")}},Y=h();l("data-v-7b051ce3");const nn={class:"mx-auto"},en={class:"\r\n                    flex flex-col\r\n                    justify-center\r\n                    items-center\r\n                    text-center text-gray-500\r\n                    rounded-lg\r\n                "},an=a("p",null,"Haz click o arrastra tus imágenes aquí",-1),rn={class:"mt-4 border-2 rounded shadow-inner"},tn={id:"previews",class:"relative px-3 py-4 z-20 flex h-52 flex-nowrap"},on={id:"controls",class:"\r\n                                absolute\r\n                                w-full\r\n                                h-full\r\n                                flex flex-col\r\n                                justify-around\r\n                                items-center\r\n                                opacity-0\r\n                                rounded\r\n                                bg-black bg-opacity-50\r\n                                hover:opacity-100\r\n                                transition-opacity\r\n                                duration-300\r\n                                ease-out\r\n                            "},sn={id:"lightbox",class:"\r\n                fixed\r\n                z-20\r\n                inset-0\r\n                text-3xl\r\n                bg-black bg-opacity-75\r\n                flex\r\n                justify-between\r\n                items-center\r\n            "},ln={class:"w-4/5 h-full"};c();const cn=Y(((r,o,s,l,c,h)=>{const m=i("UploadIcon"),b=i("StarIcon"),f=i("ZoomIcon"),x=i("DeleteIcon");return n(),e("div",nn,[a("div",{class:["relative p-6 bg-gray-50 border-4 border-dashed border-gray-300 rounded-lg transition-colors duration-200 ease-out",{" border-blue-200":c.dragging}],onDragover:o[3]||(o[3]=g((n=>c.dragging=!0),["prevent"])),onDragleave:o[4]||(o[4]=g((n=>c.dragging=!1),["prevent"])),onDrop:o[5]||(o[5]=g((n=>h.drop(n)),["prevent"]))},[d(a("button",{class:"\r\n                    relative\r\n                    px-2\r\n                    z-20\r\n                    border border-gray-300\r\n                    rounded\r\n                    text-gray-300\r\n                    font-bold\r\n                    hover:border-0 hover:bg-gray-300 hover:text-white\r\n                ",type:"button",onClick:o[1]||(o[1]=(...n)=>h.limpiar&&h.limpiar(...n))}," limpiar ",512),[[u,h.notEmpty]]),a("input",{class:"\r\n                    w-full\r\n                    h-full\r\n                    opacity-0\r\n                    absolute\r\n                    inset-0\r\n                    z-10\r\n                    cursor-pointer\r\n                ",type:"file",accept:"image/*",onChange:o[2]||(o[2]=n=>h.addFiles(n.target.files)),multiple:""},null,32),a("div",en,[a(m,{class:["stroke-current",h.notEmpty?"w-14":"w-36"]},null,8,["class"]),an]),d(a("div",rn,[a("div",tn,[(n(!0),e(t,null,p(s.images,((r,t)=>(n(),e("div",{key:t,class:["relative h-full flex-none",{"rounded ring-4 ring-yellow-300":c.featured==t,"ml-4":t>0}]},[a("div",on,[a(b,{class:"text-yellow-300 cursor-pointer",onClick:n=>c.featured=t},null,8,["onClick"]),a(f,{class:"text-white cursor-pointer",onClick:n=>h.openLightbox(t)},null,8,["onClick"]),a(x,{class:"text-red-500 cursor-pointer",onClick:n=>h.rmFile(t)},null,8,["onClick"])]),a("img",{class:"object-cover h-full rounded",src:c.previews[t],alt:`imagen ${t}`},null,8,["src","alt"])],2)))),128))])],512),[[u,h.notEmpty]])],34),d(a("div",sn,[a("span",{class:"\r\n                    text-white\r\n                    absolute\r\n                    top-12\r\n                    right-12\r\n                    font-bold\r\n                    cursor-pointer\r\n                    hover:text-gray-200\r\n                ",onClick:o[6]||(o[6]=n=>c.modal=!1)},"×"),a("a",{class:"cursor-pointer p-8 text-white font-bold",onClick:o[7]||(o[7]=n=>h.slide(-1))},"❮"),a("div",ln,[(n(!0),e(t,null,p(s.images,((a,r)=>d((n(),e("img",{key:r,onClick:o[8]||(o[8]=n=>c.modal=!1),class:"w-full h-full object-contain cursor-pointer",src:c.previews[r],alt:`imagen ${r}`},null,8,["src","alt"])),[[u,r==c.curSlide]]))),128))]),a("a",{class:"cursor-pointer p-8 text-white font-bold",onClick:o[9]||(o[9]=n=>h.slide(1))},"❯")],512),[[u,c.modal]])])}));X.render=cn,X.__scopeId="data-v-7b051ce3";const dn={name:"CasaForm",components:{ImgDropMulti:X},props:{casa:{type:Object,default:function(){return{imagenCasa:[],tituloCasa:"",descripcionCasa:"",ubicacionCasa:"",fechaCasa:""}}},guardando:Boolean},emits:["close","guardar"],data(){return{imagenCasa:this.casa.imagenCasa,tituloCasa:this.casa.tituloCasa,descripcionCasa:this.casa.descripcionCasa,ubicacionCasa:this.casa.ubicacionCasa,fechaCasa:this.casa.fechaCasa}},methods:{handleSubmit(){let n=new FormData;this.imagenCasa.forEach((e=>{n.append("files",e)})),n.set("tituloCasa",this.tituloCasa),n.set("descripcionCasa",this.descripcionCasa),n.set("ubicacionCasa",this.ubicacionCasa),n.set("fechaCasa",this.fechaCasa),this.$emit("guardar",n)}}},un={class:"bg-white shadow rounded px-8 pt-6 pb-8 mb-4 flow-root"},pn={class:"mb-4"},gn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"tituloCasa"}," Título ",-1),hn={class:"mb-4"},mn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"descripcionCasa"}," Descripción ",-1),bn={class:"mb-4"},fn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"ubicacionCasa"}," Ubicación ",-1),xn={class:"mb-6"},yn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"fechaCasa"}," Fecha ",-1),kn={class:"float-right space-x-2"};dn.render=function(r,t,o,s,l,c){const u=i("ImgDropMulti");return n(),e("form",un,[a("div",pn,[gn,d(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"tituloCasa",type:"text",placeholder:"Título","onUpdate:modelValue":t[1]||(t[1]=n=>l.tituloCasa=n)},null,512),[[m,l.tituloCasa]])]),a("div",hn,[mn,d(a("textarea",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-2\r\n                    px-3\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"descripcionCasa",type:"text",placeholder:"Descripción","onUpdate:modelValue":t[2]||(t[2]=n=>l.descripcionCasa=n)},null,512),[[m,l.descripcionCasa]])]),a("div",bn,[fn,d(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-2\r\n                    px-3\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"ubicacionCasa",placeholder:"Descripción","onUpdate:modelValue":t[3]||(t[3]=n=>l.ubicacionCasa=n)},null,512),[[m,l.ubicacionCasa]])]),a("div",xn,[yn,d(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-2\r\n                    px-3\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"fechaCasa",type:"date","onUpdate:modelValue":t[4]||(t[4]=n=>l.fechaCasa=n)},null,512),[[m,l.fechaCasa]])]),a(u,{class:"mb-6",images:l.imagenCasa,onUpdate:t[5]||(t[5]=n=>l.imagenCasa=n)},null,8,["images"]),a("div",kn,[a("button",{class:"\r\n                    bg-gray-400\r\n                    hover:bg-gray-600\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",type:"button",onClick:t[6]||(t[6]=n=>r.$emit("close"))}," Cerrar "),a("button",{class:["bg-pink-400 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-pink-200",{"animate-pulse":o.guardando}],type:"button",onClick:t[7]||(t[7]=(...n)=>c.handleSubmit&&c.handleSubmit(...n))}," Guardar ",2)])])};const vn={name:"EditIcon"},wn={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Cn=a("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"},null,-1),Bn=a("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1);vn.render=function(a,r,t,o,i,s){return n(),e("svg",wn,[Cn,Bn])};const In={name:"CasaList",components:{CasaForm:dn,EditIcon:vn,DeleteIcon:P},props:{casa:Array},emits:["cargarCasa"],data:()=>({error:"",edit:"",guardando:!1,eliminando:""}),methods:{async updateCasa(n){this.guardando=!0,await U.update(this.edit,n),this.guardando=!1,this.$emit("cargarCasa")},async deleteCasa(n){this.eliminando=n,await U.delete(n),this.eliminando="",this.$emit("cargarCasa")},getImage:n=>n.length>0?n[0].url:"https://i.kym-cdn.com/entries/icons/original/000/019/092/sada.gif"}},jn={key:0,class:"error"},Un={key:1},Dn={class:"flex justify-between"},Fn={class:"text-xl"},$n={class:"text-sm text-gray-600"},Sn={class:"text-lg"},Mn={class:"flex justify-end pt-3 space-x-2"};In.render=function(r,o,s,l,c,d){const u=i("CasaForm"),g=i("EditIcon"),h=i("DeleteIcon");return n(),e(t,null,[c.error?(n(),e("p",jn,b(c.error),1)):f("",!0),(n(!0),e(t,null,p(s.casa,(r=>(n(),e("div",{key:r._id,class:"border rounded p-5 bg-gray-100 shadow divide-y"},[c.edit==r._id?(n(),e(u,{key:0,casa:r,guardando:c.guardando,onClose:o[1]||(o[1]=n=>c.edit=""),onGuardar:d.updateCasa},null,8,["casa","guardando","onGuardar"])):(n(),e("div",Un,[a("div",Dn,[a("h3",Fn,b(r.tituloCasa),1),a("small",$n,b(r.estadoCasa),1)]),r.imagenCasa?(n(),e("img",{key:0,src:d.getImage(r.imagenCasa),alt:r.tituloCasa},null,8,["src","alt"])):f("",!0),a("h4",Sn,b(r.descripcionCasa),1),a("p",null,b(r.ubicacionCasa),1),a("p",null,b(r.fechaCasa),1),a("div",Mn,[a(g,{class:"text-yellow-400 cursor-pointer",onClick:n=>c.edit=r._id},null,8,["onClick"]),a(h,{class:["text-red-500",c.eliminando==r._id?"animate-bounce":"cursor-pointer"],onClick:n=>d.deleteCasa(r._id)},null,8,["class","onClick"])])]))])))),128))],64)};const _n={name:"CasaMain",components:{CasaForm:dn,CasaList:In},data:()=>({casa:[],nuevo:!1,guardando:!1}),methods:{compararFecha:(n,e)=>n.fechaCasa>e.fechaCasa?-1:e.fechaCasa>n.fechaCasa?1:0,async loadCasa(){try{const n=await U.index();this.casa=n.sort(this.compararFecha)}catch(n){this.error=n.message}},async createCasa(n){this.guardando=!0,await U.create(n),this.guardando=!1,this.nuevo=!1,this.loadCasa()}},created(){this.loadCasa()}},Gn={class:"container mx-auto pb-10 space-y-4"};_n.render=function(r,t,o,s,l,c){const d=i("CasaForm"),u=i("CasaList");return n(),e("div",Gn,[l.nuevo?(n(),e(d,{key:1,guardando:l.guardando,onClose:t[2]||(t[2]=n=>l.nuevo=!1),onGuardar:c.createCasa},null,8,["guardando","onGuardar"])):(n(),e("button",{key:0,class:"\r\n                w-full\r\n                border border-pink-600\r\n                rounded\r\n                px-5\r\n                hover:bg-pink-600 hover:shadow\r\n                text-pink-600\r\n                hover:text-white\r\n                text-xl\r\n                uppercase\r\n                font-bold\r\n            ",onClick:t[1]||(t[1]=n=>l.nuevo=!0)}," Nueva Casa ")),a(u,{casa:l.casa,onCargarCasa:c.loadCasa},null,8,["casa","onCargarCasa"])])};const zn="http://localhost:3000/api/banners/";class Ln{static async index(){return await x.get(zn).then((n=>n.data.banners)).catch((n=>console.error(n)))}static async create(n){return await x.post(zn,n).then((n=>console.log(n))).catch((n=>console.error(n)))}static async agendar(n){return await x.post(`${zn}agendar`,n).then((n=>console.log(n))).catch((n=>console.error(n)))}static async update(n,e){return console.log("id: "+n),console.log("data:"),console.log(e),await x.put(`${zn}editar/${n}`,e).then((n=>console.log(n))).catch((n=>console.error(n)))}static async delete(n){return await x.delete(`${zn}${n}`).then((n=>{console.log(n)})).catch((n=>{console.error(n)}))}}const Vn={name:"ImgDropSingle",components:{UploadIcon:L},props:["image"],emits:["update"],data:()=>({preview:"",dragging:!1,hovering:!1}),methods:{drop(n){this.addFile(n.dataTransfer.files[0]),this.dragging=!1},addFile(n){this.preview=URL.createObjectURL(n),this.$emit("update",n)}}},En={class:"relative"},Pn=a("p",null,"Haz click o arrastra tu imagen aquí",-1);Vn.render=function(r,t,o,s,l,c){const d=i("UploadIcon");return n(),e("div",{id:"upload",class:["relative w-full h-full mx-auto p-6 bg-gray-50 border-4 border-dashed border-gray-300 rounded-lg transition-colors duration-200 ease-out",{" border-blue-200":l.dragging}],onDragover:t[4]||(t[4]=g((n=>l.dragging=l.hovering=!0),["prevent"])),onDragleave:t[5]||(t[5]=g((n=>l.dragging=l.hovering=!1),["prevent"])),onDrop:t[6]||(t[6]=g((n=>c.drop(n)),["prevent"]))},[a("input",{class:"w-full h-full opacity-0 absolute inset-0 z-20 cursor-pointer",type:"file",accept:"image/*",onChange:t[1]||(t[1]=n=>c.addFile(n.target.files[0])),onMouseenter:t[2]||(t[2]=n=>l.hovering=!0),onMouseleave:t[3]||(t[3]=n=>l.hovering=!1)},null,32),a("div",En,[a("img",{class:"w-full object-contain rounded-lg shadow-inner",src:l.preview,alt:""},null,8,["src"]),a("div",{class:["flex flex-col justify-center items-center text-center rounded-lg transition-all duration-300 ease-out",l.preview?" absolute inset-0 z-10 bg-black text-gray-200"+(l.hovering?" opacity-100 bg-opacity-50":" opacity-0"):" text-gray-500"]},[a(d,{class:"w-36"}),Pn],2)])],34)};const Tn={name:"BannerForm",components:{ImgDropSingle:Vn},props:{banner:{type:Object,default:function(){return{tituloBanner:"",imagenBanner:"",urlBanner:""}}},guardando:Boolean},emits:["close","guardar"],data(){return{tituloBanner:this.banner.tituloBanner,imagenBanner:this.banner.imagenBanner,urlBanner:this.banner.urlBanner}},methods:{handleSubmit(){let n=new FormData;n.set("file",this.imagenBanner),n.set("tituloBanner",this.tituloBanner),n.set("urlBanner",this.urlBanner),this.$emit("guardar",n)}}},An={class:"bg-white shadow rounded px-8 pt-6 pb-8 mb-4 flow-root"},On={class:"mb-4"},Rn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"tituloBanner"}," Título ",-1),Hn={class:"mb-4"},Nn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"urlBanner"}," Url ",-1),qn={class:"float-right space-x-2"};Tn.render=function(r,t,o,s,l,c){const u=i("ImgDropSingle");return n(),e("form",An,[a("div",On,[Rn,d(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"tituloBanner",type:"text",placeholder:"Título","onUpdate:modelValue":t[1]||(t[1]=n=>l.tituloBanner=n)},null,512),[[m,l.tituloBanner]])]),a(u,{class:"mb-6",images:l.imagenBanner,onUpdate:t[2]||(t[2]=n=>l.imagenBanner=n)},null,8,["images"]),a("div",Hn,[Nn,d(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"urlBanner",type:"text",placeholder:"Url","onUpdate:modelValue":t[3]||(t[3]=n=>l.urlBanner=n)},null,512),[[m,l.urlBanner]])]),a("div",qn,[a("button",{class:"\r\n                    bg-gray-400\r\n                    hover:bg-gray-600\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",type:"button",onClick:t[4]||(t[4]=n=>r.$emit("close"))}," Cerrar "),a("button",{class:["bg-pink-400 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-pink-200",{"animate-pulse":o.guardando}],type:"button",onClick:t[5]||(t[5]=(...n)=>c.handleSubmit&&c.handleSubmit(...n))}," Guardar ",2)])])};const Zn={name:"BannerAgenda",components:{DatePicker:y},props:{banner:Object,agenda:{type:Object,default:function(){return{ubicacion:"",fechaIni:"",fechaFin:"",horario:"",recurrencia:"",iteracion:""}}},guardando:Boolean},emits:["cerrar","guardar"],data(){return{ubicaciones:[],recurrencias:["continuado","semanal"],ubicacion:this.agenda.ubicacion,fechas:{start:new Date(this.agenda.fechaIni),end:new Date(this.agenda.fechaFin)},horario:this.agenda.horario,recurrencia:this.agenda.recurrencia,iteracion:this.agenda.iteracion}},created(){x("http://localhost:3000/api/ubicaciones").then((n=>this.ubicaciones=n.data)).catch((n=>console.error(n)))},methods:{handleSubmit(){let n={ubicacion:this.ubicacion,idBanner:this.banner._id,fechaIni:this.fechas.start.toISOString(),fechaFin:this.fechas.end.toISOString(),horario:this.horario,recurrencia:this.recurrencia,iteracion:this.iteracion};this.$emit("guardar",n)}}},Jn={class:"mb-2 text-xl text-center"},Kn={class:"bg-white shadow rounded px-8 pt-6 pb-8 mb-4 flow-root"},Qn={class:"mb-4"},Wn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"ubicacion"}," Ubicación ",-1),Xn=a("option",{value:"",disabled:"",selected:"",hidden:""}," Selecciona una ubicación ",-1),Yn={class:"mb-4"},ne=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"fechas"}," Rango de fechas ",-1),ee={class:"flex justify-start items-center"},ae=a("svg",{class:"w-4 h-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1),re={class:"mb-4"},te=a("label",{class:"ml-3 text-gray-700 text-sm font-bold mb-2",for:"horario"}," Aplicar horario cada día ",-1),oe={class:"mb-4"},ie=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"recurrencia"}," Recurrencia ",-1),se=a("option",{value:"",disabled:"",selected:"",hidden:""}," Selecciona un tipo de recurrencia ",-1),le={class:"mb-4"},ce=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"iteracion"}," Repeticiones ",-1),de={class:"float-right space-x-2"};Zn.render=function(o,s,l,c,g,h){const f=i("DatePicker");return n(),e(t,null,[a("h2",Jn,b(l.banner.tituloBanner),1),a("form",Kn,[a("div",Qn,[Wn,d(a("select",{class:["border rounded border-pink-200 w-full py-1 px-2 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-pink-200",g.ubicacion?"text-gray-700":"text-gray-400"],id:"ubicacion","onUpdate:modelValue":s[1]||(s[1]=n=>g.ubicacion=n)},[Xn,(n(!0),e(t,null,p(g.ubicaciones,((a,r)=>(n(),e("option",{class:"text-gray-700",key:r,value:a},b(`${a[0].toUpperCase()}${a.slice(1)}`),9,["value"])))),128))],2),[[k,g.ubicacion]])]),a("div",Yn,[ne,a(f,{id:"fechas",mode:"dateTime","is-range":"","minute-increment":5,color:"pink",modelValue:g.fechas,"onUpdate:modelValue":s[2]||(s[2]=n=>g.fechas=n)},{default:r((({inputValue:n,inputEvents:e})=>[a("div",ee,[a("input",w({value:n.start},C(e.start),{class:"\r\n                                border\r\n                                rounded\r\n                                border-pink-200\r\n                                py-1\r\n                                px-2\r\n                                text-gray-700\r\n                                leading-tight\r\n                                focus:outline-none\r\n                                focus:ring-2\r\n                                focus:ring-pink-200\r\n                            "}),null,16,["value"]),ae,a("input",w({value:n.end},C(e.end),{class:"\r\n                                border\r\n                                rounded\r\n                                border-pink-200\r\n                                py-1\r\n                                px-2\r\n                                text-gray-700\r\n                                leading-tight\r\n                                focus:outline-none\r\n                                focus:ring-2\r\n                                focus:ring-pink-200\r\n                            "}),null,16,["value"])])])),_:1},8,["modelValue"])]),a("div",re,[d(a("input",{class:"\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    h-4\r\n                    w-4\r\n                    text-gray-700\r\n                    focus:ring-2 focus:ring-pink-200\r\n                ",id:"horario",type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=n=>g.horario=n)},null,512),[[v,g.horario]]),te]),a("div",oe,[ie,d(a("select",{class:["border rounded border-pink-200 w-full py-1 px-2 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-pink-200",g.recurrencia?"text-gray-700":"text-gray-400"],id:"recurrencia","onUpdate:modelValue":s[4]||(s[4]=n=>g.recurrencia=n)},[se,(n(!0),e(t,null,p(g.recurrencias,((a,r)=>(n(),e("option",{class:"text-gray-700",key:r,value:a},b(`${a[0].toUpperCase()}${a.slice(1)}`),9,["value"])))),128))],2),[[k,g.recurrencia]])]),d(a("div",le,[ce,d(a("input",{class:"\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none focus:ring-2 focus:ring-pink-200\r\n                ",id:"iteracion",type:"number",placeholder:"Número de repeticiones","onUpdate:modelValue":s[5]||(s[5]=n=>g.iteracion=n)},null,512),[[m,g.iteracion]])],512),[[u,g.recurrencia&&"continuado"!==g.recurrencia]]),a("div",de,[a("button",{class:"\r\n                    bg-gray-400\r\n                    hover:bg-gray-600\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",type:"button",onClick:s[6]||(s[6]=n=>o.$emit("cerrar"))}," Cerrar "),a("button",{class:["bg-pink-400 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-pink-200",{"animate-pulse":l.guardando}],type:"button",onClick:s[7]||(s[7]=(...n)=>h.handleSubmit&&h.handleSubmit(...n))}," Guardar ",2)])])],64)};const ue={name:"CalendarIcon"},pe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-calendar"},ge=a("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),he=a("path",{d:"M16 2v4M8 2v4M3 10h18"},null,-1);ue.render=function(a,r,t,o,i,s){return n(),e("svg",pe,[ge,he])};const me={name:"BannerList",components:{BannerForm:Tn,BannerAgenda:Zn,EditIcon:vn,DeleteIcon:P,CalendarIcon:ue},props:{banners:Array},emits:["cargarBanner"],data:()=>({edit:"",guardando:!1,eliminando:"",error:"",calendarizar:""}),methods:{async actualizarBanner(n){this.guardando=!0,await Ln.update(this.edit,n),this.guardando=!1,this.$emit("cargarBanner")},async borrarBanner(n){this.eliminando=n,await Ln.delete(n),this.eliminando="",this.$emit("cargarBanner")},async agendar(n){await Ln.agendar(n),this.$emit("cargarBanner")}}},be={key:0,class:"error"},fe={key:2,class:"text-center"},xe={class:"text-xl mb-2"},ye={class:"flex justify-end pt-3 space-x-2"};me.render=function(r,o,s,l,c,d){const u=i("BannerForm"),g=i("BannerAgenda"),h=i("CalendarIcon"),m=i("EditIcon"),x=i("DeleteIcon");return n(),e(t,null,[c.error?(n(),e("p",be,b(c.error),1)):f("",!0),(n(!0),e(t,null,p(s.banners,(r=>(n(),e("div",{key:r._id,class:"border rounded mb-10 p-5 bg-gray-100 shadow divide-y"},[c.edit==r._id?(n(),e(u,{key:0,banner:r,guardando:c.guardando,onClose:o[1]||(o[1]=n=>c.edit=""),onGuardar:d.actualizarBanner},null,8,["banner","guardando","onGuardar"])):c.calendarizar===r._id?(n(),e(g,{key:1,banner:r,onCerrar:o[2]||(o[2]=n=>c.calendarizar=""),onGuardar:d.agendar},null,8,["banner","onGuardar"])):(n(),e("div",fe,[a("h2",xe,b(r.tituloBanner),1),a("img",{class:"mb-2 mx-auto rounded-lg",src:r.imagenBanner.url,alt:r.tituloBanner},null,8,["src","alt"]),a("a",{href:r.urlBanner},b(r.urlBanner),9,["href"]),a("div",ye,[a(h,{class:"text-blue-400 cursor-pointer",onClick:n=>c.calendarizar=r._id},null,8,["onClick"]),a(m,{class:"text-yellow-400 cursor-pointer",onClick:n=>c.edit=r._id},null,8,["onClick"]),a(x,{class:["text-red-500",c.eliminando==r._id?"animate-bounce":"cursor-pointer"],onClick:n=>d.borrarBanner(r._id)},null,8,["class","onClick"])])]))])))),128))],64)};const ke={name:"BannerMain",components:{BannerForm:Tn,BannerList:me},data:()=>({banners:[],nuevo:!1,guardando:!1,error:""}),methods:{async cargarBanners(){try{this.banners=await Ln.index()}catch(n){this.error=n.message}},async crearBanner(n){this.guardando=!0,await Ln.create(n),this.guardando=!1,this.nuevo=!1,this.cargarBanners()}},created(){this.cargarBanners()}},ve={class:"container mx-auto pb-10"},we={key:0,class:"text-center bg-red-200 mb-5 p-4 rounded shadow"};ke.render=function(r,t,o,s,l,c){const d=i("BannerForm"),u=i("BannerList");return n(),e("div",ve,[l.error?(n(),e("div",we,b(l.error),1)):f("",!0),l.nuevo?(n(),e(d,{key:2,guardando:l.guardando,onClose:t[2]||(t[2]=n=>l.nuevo=!1),onGuardar:c.crearBanner},null,8,["guardando","onGuardar"])):(n(),e("button",{key:1,class:"\r\n                w-full\r\n                border border-pink-600\r\n                rounded\r\n                mb-5\r\n                px-5\r\n                hover:bg-pink-600 hover:shadow\r\n                text-pink-600\r\n                hover:text-white\r\n                text-xl\r\n                uppercase\r\n                font-bold\r\n            ",onClick:t[1]||(t[1]=n=>l.nuevo=!0)}," Nuevo Banner ")),a(u,{banners:l.banners,onCargarBanner:c.cargarBanners},null,8,["banners","onCargarBanner"])])};const Ce={name:"BannerTest",data:()=>({banners:{principal:"",ladito:""}}),created(){x("http://localhost:3000/api/banners/principal").then((n=>this.banners.principal=n.data)).catch((n=>console.error(n))),x("http://localhost:3000/api/banners/ladito").then((n=>this.banners.ladito=n.data)).catch((n=>console.error(n)))}},Be={class:"container mx-auto flex flex-col items-center"},Ie=a("h1",{class:"mb-14 text-3xl"},"Serial Experiments Banners",-1),je={class:"mb-2 text-xl capitalize"};Ce.render=function(r,o,i,s,l,c){return n(),e("div",Be,[Ie,(n(!0),e(t,null,p(l.banners,((r,t)=>(n(),e("figure",{key:t,class:"mb-10"},[a("figcaption",je,b(t),1),a("img",{src:r,alt:`banner ${t}`,width:"336"},null,8,["src","alt"])])))),128))])};const Ue={name:"NotFound"};Ue.render=function(a,r,t,o,i,s){return n(),e("h1",null,"Error 404: No encontrado")};const De=[{path:"/panel/casa",component:_n},{path:"/panel/banners",component:ke},{path:"/panel/banner_test",component:Ce},{path:"/:pathMatch(.*)",component:Ue}],Fe=B({history:I(),routes:De});j(D).use(Fe).mount("#panel");
