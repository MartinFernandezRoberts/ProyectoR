import{o as n,c as e,a,E as r,F as t,f as o,d as i,h as s,P as l,p as c,e as d,i as u,j as p,r as g,g as h,w as m,N as b,k as f,v as x,t as y,b as v,l as k,H as w,I as C,M as B}from"./vendor.6dfaece2.js";import{_ as I,a as D,b as $,c as S}from"./StarIcon.25a35483.js";const F={name:"Panel"},U={class:"\r\n            flex\r\n            items-center\r\n            justify-between\r\n            flex-wrap\r\n            bg-black\r\n            p-6\r\n            mb-10\r\n            text-white\r\n        "},j=a("div",{class:"flex items-center"},[a("a",{class:"text-xl font-bold",href:"/"},"ProyectoR"),a("h2",null,[a("span",{class:"text-pink-600 font-bold mx-1"}," >"),o("Panel de Control ")])],-1),_=o(" Casa "),E=a("span",{class:"mx-2"},"|",-1),V=o(" Banners "),L=a("span",{class:"mx-2"},"|",-1),z=o(" Banner Test ");F.render=function(o,s,l,c,d,u){const p=i("router-link"),g=i("router-view");return n(),e(t,null,[a("nav",U,[j,a("div",null,[a(p,{to:"/panel/casa","active-class":"text-pink-600 font-bold"},{default:r((()=>[_])),_:1}),E,a(p,{to:"/panel/banners","active-class":"text-pink-600 font-bold"},{default:r((()=>[V])),_:1}),L,a(p,{to:"/panel/banner_test","active-class":"text-pink-600 font-bold"},{default:r((()=>[z])),_:1})])]),a(g)],64)};const M="http://localhost:3000/api/casas/";class G{static async index(){return await s.get(M).then((n=>n.data)).catch((n=>console.error(n)))}static async todo(){return await s.get(`${M}todo`).then((n=>n.data)).catch((n=>console.error(n)))}static async create(n){return await s.post(M,n).then((n=>console.log(n))).catch((n=>console.error(n)))}static async update(n,e){return await s.post(`${M}${n}/editar`,e).then((n=>console.log(n))).catch((n=>console.error(n)))}static async destacar(n,e){return await s.post(`${M}${n}/destacar`,e).then((n=>console.log(n))).catch((n=>console.error(n)))}static async delete(n){return await s.delete(`${M}${n}`).then((n=>{console.log(n)})).catch((n=>{console.error(n)}))}}const A={name:"MultiImgDrop",components:{UploadIcon:I,DeleteIcon:D,ZoomIcon:$,StarIcon:S},props:{images:{type:Array,default:function(){return[]}},paBorrar:{type:Array,default:function(){return[]}}},emits:["update:images","update:paBorrar"],data(){return{storedImages:this.images,previews:this.images.map((n=>this.urlDev(n))),dragging:!1,modal:!1,curSlide:0,featured:0,scrollbar:null}},computed:{notEmpty(){return this.previews.length>0}},mounted(){this.scrollbar=new l("#previews"),this.$emit("update:images",[])},methods:{urlDev:n=>"http://localhost:3000/"+n,drop(n){this.addFiles(n.dataTransfer.files),this.dragging=!1},addFiles(n){const e=this.images,a=this;for(let r=0;r<n.length;r++){const t=n[r];a.previews.push(URL.createObjectURL(t)),e.push(t)}this.$emit("update:images",e),setTimeout((()=>{this.scrollbar.update()}),100)},rmFile(n){if(n<this.featured?this.featured--:n==this.featured&&(this.featured=0),n>=this.storedImages.length){const e=this.images;e.splice(n,1),this.$emit("update:images",e)}else{const e=this.paBorrar.concat(this.storedImages.splice(n,1));this.$emit("update:paBorrar",e)}this.previews.splice(n,1),this.$nextTick((function(){this.scrollbar.update()}))},clear(){this.previews.length=0,this.$emit("update:images",[])},openLightbox(n){this.curSlide=n,this.modal=!0},slide(n){(n+=this.curSlide)<0?n=this.images.length-1:n==this.images.length&&(n=0),this.curSlide=n}}},T=m();c("data-v-2d8c7e7c");const O={class:"mx-auto"},P={class:"\r\n                    flex flex-col\r\n                    justify-center\r\n                    items-center\r\n                    text-center text-gray-500\r\n                    rounded-lg\r\n                "},N=a("p",null,"Haz click o arrastra tus imágenes aquí",-1),R={class:"mt-4 border-2 rounded shadow-inner"},H={id:"previews",class:"relative px-3 py-4 z-20 flex h-52 flex-nowrap"},q={id:"controls",class:"\r\n                                absolute\r\n                                w-full\r\n                                h-full\r\n                                flex flex-col\r\n                                justify-around\r\n                                items-center\r\n                                opacity-0\r\n                                rounded\r\n                                bg-black bg-opacity-50\r\n                                hover:opacity-100\r\n                                transition-opacity\r\n                                duration-300\r\n                                ease-out\r\n                            "},Z={id:"lightbox",class:"\r\n                fixed\r\n                z-20\r\n                inset-0\r\n                text-3xl\r\n                bg-black bg-opacity-75\r\n                flex\r\n                justify-between\r\n                items-center\r\n            "},J={class:"w-4/5 h-full"};d();const K=T(((r,o,s,l,c,d)=>{const m=i("UploadIcon"),b=i("StarIcon"),f=i("ZoomIcon"),x=i("DeleteIcon");return n(),e("div",O,[a("div",{class:["relative p-6 bg-gray-50 border-4 border-dashed border-gray-300 rounded-lg transition-colors duration-200 ease-out",{" border-blue-200":c.dragging}],onDragover:o[3]||(o[3]=h((n=>c.dragging=!0),["prevent"])),onDragleave:o[4]||(o[4]=h((n=>c.dragging=!1),["prevent"])),onDrop:o[5]||(o[5]=h((n=>d.drop(n)),["prevent"]))},[u(a("button",{class:"\r\n                    relative\r\n                    px-2\r\n                    z-20\r\n                    border border-gray-300\r\n                    rounded\r\n                    text-gray-300\r\n                    font-bold\r\n                    hover:border-0 hover:bg-gray-300 hover:text-white\r\n                ",type:"button",onClick:o[1]||(o[1]=(...n)=>d.clear&&d.clear(...n))}," limpiar ",512),[[p,d.notEmpty]]),a("input",{class:"\r\n                    w-full\r\n                    h-full\r\n                    opacity-0\r\n                    absolute\r\n                    inset-0\r\n                    z-10\r\n                    cursor-pointer\r\n                ",type:"file",accept:"image/*",onChange:o[2]||(o[2]=n=>d.addFiles(n.target.files)),multiple:""},null,32),a("div",P,[a(m,{class:["stroke-current",d.notEmpty?"w-14":"w-36"]},null,8,["class"]),N]),u(a("div",R,[a("div",H,[(n(!0),e(t,null,g(c.previews,((r,t)=>(n(),e("div",{key:t,class:["relative h-full flex-none",{"rounded ring-4 ring-yellow-300":c.featured==t,"ml-4":t>0}]},[a("div",q,[a(b,{class:["text-yellow-300 cursor-pointer",{"fill-current":c.featured===t}],onClick:n=>c.featured=t},null,8,["class","onClick"]),a(f,{class:"text-white cursor-pointer",onClick:n=>d.openLightbox(t)},null,8,["onClick"]),a(x,{class:"text-red-500 cursor-pointer",onClick:n=>d.rmFile(t)},null,8,["onClick"])]),a("img",{class:"object-cover h-full rounded",src:r,alt:`imagen ${t}`},null,8,["src","alt"])],2)))),128))])],512),[[p,d.notEmpty]])],34),u(a("div",Z,[a("span",{class:"\r\n                    text-white\r\n                    absolute\r\n                    top-12\r\n                    right-12\r\n                    font-bold\r\n                    cursor-pointer\r\n                    hover:text-gray-200\r\n                ",onClick:o[6]||(o[6]=n=>c.modal=!1)},"×"),a("a",{class:"cursor-pointer p-8 text-white font-bold",onClick:o[7]||(o[7]=n=>d.slide(-1))},"❮"),a("div",J,[(n(!0),e(t,null,g(c.previews,((a,r)=>u((n(),e("img",{key:r,onClick:o[8]||(o[8]=n=>c.modal=!1),class:"w-full h-full object-contain cursor-pointer",src:a,alt:`imagen ${r}`},null,8,["src","alt"])),[[p,r==c.curSlide]]))),128))]),a("a",{class:"cursor-pointer p-8 text-white font-bold",onClick:o[9]||(o[9]=n=>d.slide(1))},"❯")],512),[[p,c.modal]])])}));A.render=K,A.__scopeId="data-v-2d8c7e7c";const Q={name:"CasaForm",components:{ImgDropMulti:A,DatePicker:b},props:{casa:{type:Object,default:function(){return{titulo:"",descripcion:"",comuna:"",ubicacion:"",fecha:new Date,imagenes:[],orientacion:""}}},guardando:Boolean},emits:["close","guardar"],data(){return{infoItem:{titulo:this.casa.titulo,descripcion:this.casa.descripcion,comuna:this.casa.comuna,fecha:this.casa.fecha},infoCasa:{ubicacion:this.casa.ubicacion,orientacion:this.casa.orientacion},imagenes:this.casa.imagenes,paBorrar:[],comunas:[],orientaciones:["Oriente","Poniente","Norte","Sur","Nororiente","Norponiente","Suroriente","Surponiente"]}},created(){s("https://apis.digital.gob.cl/dpa/comunas").then((n=>this.comunas=n.data.map((n=>n.nombre))))},methods:{handleSubmit(){let n=new FormData;this.imagenes.forEach((e=>{n.append("files",e)})),this.paBorrar.forEach((e=>{n.append("paBorrar",e)}));for(const[e,a]of Object.entries(this.infoItem))n.set(`item[${e}]`,a);for(const[e,a]of Object.entries(this.infoCasa))n.set(`casa[${e}]`,a);this.$emit("guardar",n)}}},W={class:"bg-white shadow rounded px-8 pt-6 pb-8 mb-4 flow-root"},X={class:"mb-4"},Y=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"titulo"}," Título ",-1),nn={class:"mb-4"},en=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"descripcion"}," Descripción ",-1),an={class:"mb-4"},rn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"comuna"}," Comuna ",-1),tn={id:"lista-comuna"},on={class:"mb-4"},sn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"ubicacion"}," Ubicación ",-1),ln={class:"mb-6"},cn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"fecha"}," Fecha ",-1),dn={class:"mb-4"},un=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"orientacion"}," Orientación ",-1),pn=a("option",{value:"",disabled:"",selected:"",hidden:""}," Selecciona una orientación ",-1),gn={class:"float-right space-x-2"};Q.render=function(r,o,s,l,c,d){const p=i("DatePicker"),h=i("ImgDropMulti");return n(),e("form",W,[a("div",X,[Y,u(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"titulo",type:"text",placeholder:"Título","onUpdate:modelValue":o[1]||(o[1]=n=>c.infoItem.titulo=n)},null,512),[[f,c.infoItem.titulo]])]),a("div",nn,[en,u(a("textarea",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"descripcion",type:"text",placeholder:"Descripción","onUpdate:modelValue":o[2]||(o[2]=n=>c.infoItem.descripcion=n)},null,512),[[f,c.infoItem.descripcion]])]),a("div",an,[rn,u(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"comuna",placeholder:"Comuna",list:"lista-comuna","onUpdate:modelValue":o[3]||(o[3]=n=>c.infoItem.comuna=n)},null,512),[[f,c.infoItem.comuna]]),a("datalist",tn,[(n(!0),e(t,null,g(c.comunas,((a,r)=>(n(),e("option",{key:r,value:a},null,8,["value"])))),128))])]),a("div",on,[sn,u(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"ubicacion",placeholder:"Ubicación","onUpdate:modelValue":o[4]||(o[4]=n=>c.infoCasa.ubicacion=n)},null,512),[[f,c.infoCasa.ubicacion]])]),a("div",ln,[cn,a(p,{modelValue:c.infoItem.fecha,"onUpdate:modelValue":o[5]||(o[5]=n=>c.infoItem.fecha=n),id:"fecha",mode:"dateTime",color:"pink"},null,8,["modelValue"])]),a("div",dn,[un,u(a("select",{class:["border rounded border-pink-200 w-full py-1 px-2 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-pink-200",c.infoCasa.orientacion?"text-gray-700":"text-gray-400"],id:"orientacion","onUpdate:modelValue":o[6]||(o[6]=n=>c.infoCasa.orientacion=n)},[pn,(n(!0),e(t,null,g(c.orientaciones,((a,r)=>(n(),e("option",{class:"text-gray-700",key:r,value:a},y(`${a[0].toUpperCase()}${a.slice(1)}`),9,["value"])))),128))],2),[[x,c.infoCasa.orientacion]])]),a(h,{class:"mb-6",images:c.imagenes,"onUpdate:images":o[7]||(o[7]=n=>c.imagenes=n),paBorrar:c.paBorrar,"onUpdate:paBorrar":o[8]||(o[8]=n=>c.paBorrar=n)},null,8,["images","paBorrar"]),a("div",gn,[a("button",{class:"\r\n                    bg-gray-400\r\n                    hover:bg-gray-600\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",type:"button",onClick:o[9]||(o[9]=n=>r.$emit("close"))}," Cancelar "),a("button",{class:["bg-pink-400 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-pink-200",{"animate-pulse":s.guardando}],type:"button",onClick:o[10]||(o[10]=(...n)=>d.handleSubmit&&d.handleSubmit(...n))}," Guardar ",2)])])};const hn={name:"EditIcon"},mn={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},bn=a("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"},null,-1),fn=a("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1);hn.render=function(a,r,t,o,i,s){return n(),e("svg",mn,[bn,fn])};const xn={name:"CasaList",components:{CasaForm:Q,EditIcon:hn,DeleteIcon:D,StarIcon:S},props:{casas:Array},emits:["cargarCasas"],data:()=>({error:"",edit:"",guardando:!1,eliminando:"",destacando:""}),methods:{urlDev:n=>"http://localhost:3000/"+n,formatFecha:n=>new Date(n).toLocaleString(),async actualizarCasa(n){this.guardando=!0,await G.update(this.edit,n),this.edit="",this.guardando=!1,this.$emit("cargarCasas")},async eliminarCasa(n){this.eliminando=n,await G.delete(n),this.eliminando="",this.$emit("cargarCasas")},async cambiarDestacado(n,e){this.destacando=n,await G.destacar(n,{destacado:e}),this.destacando="",this.$emit("cargarCasas")}}},yn={key:0,class:"error"},vn={class:"grid grid-cols-3 gap-4"},kn={key:1},wn={class:"flex justify-between"},Cn={class:"text-xl"},Bn={class:"text-sm text-gray-600"},In={class:"text-lg"},Dn={class:"flex justify-end pt-3 space-x-2"};xn.render=function(r,o,s,l,c,d){const u=i("CasaForm"),p=i("StarIcon"),h=i("EditIcon"),m=i("DeleteIcon");return n(),e(t,null,[c.error?(n(),e("p",yn,y(c.error),1)):v("",!0),a("div",vn,[(n(!0),e(t,null,g(s.casas,(r=>(n(),e("div",{key:r._id,class:["border rounded p-5 bg-gray-100 shadow",{"col-span-full order-first":c.edit===r._id}]},[c.edit===r._id?(n(),e(u,{key:0,casa:r,guardando:c.guardando,onClose:o[1]||(o[1]=n=>c.edit=""),onGuardar:d.actualizarCasa},null,8,["casa","guardando","onGuardar"])):(n(),e("div",kn,[a("div",wn,[a("h3",Cn,y(r.titulo),1),a("small",Bn,y(r.estado),1)]),r.imagenes?(n(),e("img",{key:0,src:d.urlDev(r.imagenes[0]),alt:r.titulo},null,8,["src","alt"])):v("",!0),a("h4",In,y(r.item.descripcion),1),a("p",null,y(r.item.ubicacion),1),a("p",null,y(d.formatFecha(r.fecha)),1),a("div",Dn,[a(p,{class:["text-dorado",c.destacando==r._id?"animate-bounce":"cursor-pointer",{"fill-current":r.destacado}],onClick:n=>d.cambiarDestacado(r._id,!r.destacado)},null,8,["class","onClick"]),a(h,{class:"text-blue-400 cursor-pointer",onClick:n=>c.edit=r._id},null,8,["onClick"]),a(m,{class:["text-rojo",c.eliminando==r._id?"animate-bounce":"cursor-pointer"],onClick:n=>d.eliminarCasa(r._id)},null,8,["class","onClick"])])]))],2)))),128))])],64)};const $n={name:"CasaMain",components:{CasaForm:Q,CasaList:xn},data:()=>({casas:[],nuevo:!1,guardando:!1}),methods:{async cargarCasas(){this.casas=await G.todo()},async crearCasa(n){this.guardando=!0,await G.create(n),this.guardando=!1,this.nuevo=!1,this.cargarCasas()}},created(){this.cargarCasas()}},Sn={class:"container mx-auto pb-10 space-y-4"};$n.render=function(r,t,o,s,l,c){const d=i("CasaForm"),u=i("CasaList");return n(),e("div",Sn,[l.nuevo?(n(),e(d,{key:1,guardando:l.guardando,onClose:t[2]||(t[2]=n=>l.nuevo=!1),onGuardar:c.crearCasa},null,8,["guardando","onGuardar"])):(n(),e("button",{key:0,class:"\r\n                w-full\r\n                border border-pink-600\r\n                rounded\r\n                px-5\r\n                hover:bg-pink-600 hover:shadow\r\n                text-pink-600\r\n                hover:text-white\r\n                text-xl\r\n                uppercase\r\n                font-bold\r\n            ",onClick:t[1]||(t[1]=n=>l.nuevo=!0)}," Nueva Casa ")),a(u,{casas:l.casas,onCargarCasas:c.cargarCasas},null,8,["casas","onCargarCasas"])])};const Fn="http://localhost:3000/api/banners/";class Un{static async index(){return await s.get(Fn).then((n=>n.data)).catch((n=>console.error(n)))}static async create(n){return await s.post(Fn,n).then((n=>console.log(n))).catch((n=>console.error(n)))}static async update(n,e){return await s.post(`${Fn}${n}/editar`,e).then((n=>console.log(n))).catch((n=>console.error(n)))}static async delete(n){return await s.delete(`${Fn}${n}`).then((n=>{console.log(n)})).catch((n=>{console.error(n)}))}}const jn={name:"ImgDropSingle",components:{UploadIcon:I},props:["image"],emits:["update"],data(){return{preview:this.urlDev(this.image),dragging:!1,hovering:!1}},methods:{urlDev:n=>"http://localhost:3000/"+n,drop(n){this.addFile(n.dataTransfer.files[0]),this.dragging=!1},addFile(n){this.preview=URL.createObjectURL(n),this.$emit("update",n)}}},_n={class:"relative"},En=a("p",null,"Haz click o arrastra tu imagen aquí",-1);jn.render=function(r,t,o,s,l,c){const d=i("UploadIcon");return n(),e("div",{id:"upload",class:["relative w-full h-full mx-auto p-6 bg-gray-50 border-4 border-dashed border-gray-300 rounded-lg transition-colors duration-200 ease-out",{" border-blue-200":l.dragging}],onDragover:t[4]||(t[4]=h((n=>l.dragging=l.hovering=!0),["prevent"])),onDragleave:t[5]||(t[5]=h((n=>l.dragging=l.hovering=!1),["prevent"])),onDrop:t[6]||(t[6]=h((n=>c.drop(n)),["prevent"]))},[a("input",{class:"w-full h-full opacity-0 absolute inset-0 z-20 cursor-pointer",type:"file",accept:"image/*",onChange:t[1]||(t[1]=n=>c.addFile(n.target.files[0])),onMouseenter:t[2]||(t[2]=n=>l.hovering=!0),onMouseleave:t[3]||(t[3]=n=>l.hovering=!1)},null,32),a("div",_n,[a("img",{class:"w-full object-contain rounded-lg shadow-inner",src:l.preview,alt:""},null,8,["src"]),a("div",{class:["flex flex-col justify-center items-center text-center rounded-lg transition-all duration-300 ease-out",l.preview?" absolute inset-0 z-10 bg-black text-gray-200"+(l.hovering?" opacity-100 bg-opacity-50":" opacity-0"):" text-gray-500"]},[a(d,{class:"w-36"}),En],2)])],34)};const Vn={name:"BannerForm",components:{ImgDropSingle:jn},props:{banner:{type:Object,default:function(){return{tituloBanner:"",imagenBanner:"",urlBanner:""}}},guardando:Boolean},emits:["close","guardar"],data(){return{tituloBanner:this.banner.tituloBanner,imagenBanner:this.banner.imagenBanner,urlBanner:this.banner.urlBanner}},methods:{handleSubmit(){let n=new FormData;n.set("file",this.imagenBanner),n.set("tituloBanner",this.tituloBanner),n.set("urlBanner",this.urlBanner),this.$emit("guardar",n)}}},Ln={class:"mb-4"},zn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"tituloBanner"}," Título ",-1),Mn={class:"mb-4"},Gn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"urlBanner"}," Url ",-1),An={class:"float-right space-x-2"};Vn.render=function(r,t,o,s,l,c){const d=i("ImgDropSingle");return n(),e("form",{class:["bg-white shadow rounded px-8 pt-6 pb-8 mb-4 flow-root",{"mx-auto w-1/2":0===o.banner.tituloBanner.length}]},[a("div",Ln,[zn,u(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"tituloBanner",type:"text",placeholder:"Título","onUpdate:modelValue":t[1]||(t[1]=n=>l.tituloBanner=n)},null,512),[[f,l.tituloBanner]])]),a("div",null,[a(d,{class:"mb-6",image:l.imagenBanner,onUpdate:t[2]||(t[2]=n=>l.imagenBanner=n)},null,8,["image"])]),a("div",Mn,[Gn,u(a("input",{class:"\r\n                    appearance-none\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",id:"urlBanner",type:"text",placeholder:"Url","onUpdate:modelValue":t[3]||(t[3]=n=>l.urlBanner=n)},null,512),[[f,l.urlBanner]])]),a("div",An,[a("button",{class:"\r\n                    bg-gray-400\r\n                    hover:bg-gray-600\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",type:"button",onClick:t[4]||(t[4]=n=>r.$emit("close"))}," Cancelar "),a("button",{class:["bg-pink-400 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-pink-200",{"animate-pulse":o.guardando}],type:"button",onClick:t[5]||(t[5]=(...n)=>c.handleSubmit&&c.handleSubmit(...n))}," Guardar ",2)])],2)};const Tn="http://localhost:3000/api/agenda/";class On{static async index(){return await s.get(Tn).then((n=>n.data)).catch((n=>console.error(n)))}static async create(n){return await s.post(Tn,n).then((n=>console.log(n))).catch((n=>console.error(n)))}static async delete(n){return await s.delete(`${Tn}${n}`).then((n=>{console.log(n)})).catch((n=>{console.error(n)}))}}const Pn={name:"EventoForm",components:{DatePicker:b},props:{idBanner:String,agenda:{type:Object,default:function(){return{ubicacion:"",fechaIni:"",fechaFin:"",horario:!1,recurrencia:"",iteracion:""}}},guardando:Boolean},emits:["cerrar","guardar"],data(){return{ubicaciones:[],recurrencias:["continuado","semanal"],ubicacion:this.agenda.ubicacion,fechas:{start:new Date(this.agenda.fechaIni),end:new Date(this.agenda.fechaFin)},datePickerConfig:{start:{timeAdjust:"00:00:00"},end:{timeAdjust:"23:55:00"}},horario:this.agenda.horario,recurrencia:this.agenda.recurrencia,iteracion:this.agenda.iteracion}},created(){s("http://localhost:3000/api/ubicaciones").then((n=>this.ubicaciones=n.data)).catch((n=>console.error(n)))},methods:{handleSubmit(){let n={ubicacion:this.ubicacion,idBanner:this.idBanner,fechaIni:this.fechas.start.toISOString(),fechaFin:this.fechas.end.toISOString(),horario:this.horario,recurrencia:this.recurrencia,iteracion:this.iteracion};this.$emit("guardar",n)}}},Nn={class:"bg-white shadow rounded px-8 pt-6 pb-8 mb-4 flow-root"},Rn={class:"mb-4"},Hn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"ubicacion"}," Ubicación ",-1),qn=a("option",{value:"",disabled:"",selected:"",hidden:""}," Selecciona una ubicación ",-1),Zn={class:"mb-4"},Jn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"fechas"}," Rango de fechas ",-1),Kn={class:"mb-4"},Qn=a("label",{class:"ml-3 text-gray-700 text-sm font-bold mb-2",for:"horario"}," Aplicar horario cada día ",-1),Wn={class:"mb-4"},Xn=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"recurrencia"}," Recurrencia ",-1),Yn=a("option",{value:"",disabled:"",selected:"",hidden:""}," Selecciona un tipo de recurrencia ",-1),ne={class:"mb-4"},ee=a("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"iteracion"}," Repeticiones ",-1),ae={class:"float-right space-x-2"};Pn.render=function(r,o,s,l,c,d){const h=i("DatePicker");return n(),e("form",Nn,[a("div",Rn,[Hn,u(a("select",{class:["border rounded border-pink-200 w-full py-1 px-2 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-pink-200",c.ubicacion?"text-gray-700":"text-gray-400"],id:"ubicacion","onUpdate:modelValue":o[1]||(o[1]=n=>c.ubicacion=n)},[qn,(n(!0),e(t,null,g(c.ubicaciones,((a,r)=>(n(),e("option",{class:"text-gray-700",key:r,value:a},y(`${a[0].toUpperCase()}${a.slice(1)}`),9,["value"])))),128))],2),[[x,c.ubicacion]])]),a("div",Zn,[Jn,a(h,{id:"fechas",mode:"dateTime","is-range":"","minute-increment":5,"min-date":new Date,color:"pink","model-config":c.datePickerConfig,modelValue:c.fechas,"onUpdate:modelValue":o[2]||(o[2]=n=>c.fechas=n)},null,8,["min-date","model-config","modelValue"])]),a("div",Kn,[u(a("input",{class:"\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    h-4\r\n                    w-4\r\n                    text-gray-700\r\n                    focus:ring-2 focus:ring-pink-200\r\n                ",id:"horario",type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=n=>c.horario=n)},null,512),[[k,c.horario]]),Qn]),a("div",Wn,[Xn,u(a("select",{class:["border rounded border-pink-200 w-full py-1 px-2 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-pink-200",c.recurrencia?"text-gray-700":"text-gray-400"],id:"recurrencia","onUpdate:modelValue":o[4]||(o[4]=n=>c.recurrencia=n)},[Yn,(n(!0),e(t,null,g(c.recurrencias,((a,r)=>(n(),e("option",{class:"text-gray-700",key:r,value:a},y(`${a[0].toUpperCase()}${a.slice(1)}`),9,["value"])))),128))],2),[[x,c.recurrencia]])]),u(a("div",ne,[ee,u(a("input",{class:"\r\n                    border\r\n                    rounded\r\n                    border-pink-200\r\n                    w-full\r\n                    py-1\r\n                    px-2\r\n                    text-gray-700\r\n                    leading-tight\r\n                    focus:outline-none focus:ring-2 focus:ring-pink-200\r\n                ",id:"iteracion",type:"number",placeholder:"Número de repeticiones","onUpdate:modelValue":o[5]||(o[5]=n=>c.iteracion=n)},null,512),[[f,c.iteracion]])],512),[[p,c.recurrencia&&"continuado"!==c.recurrencia]]),a("div",ae,[a("button",{class:"\r\n                    bg-gray-400\r\n                    hover:bg-gray-600\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                    focus:outline-none\r\n                    focus:shadow-outline\r\n                    focus:ring-2\r\n                    focus:ring-pink-200\r\n                ",type:"button",onClick:o[6]||(o[6]=n=>r.$emit("cerrar"))}," Cancelar "),a("button",{class:["bg-pink-400 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-pink-200",{"animate-pulse":s.guardando}],type:"button",onClick:o[7]||(o[7]=(...n)=>d.handleSubmit&&d.handleSubmit(...n))}," Guardar ",2)])])};const re={name:"BannerAgenda",components:{EventoForm:Pn,DeleteIcon:D},props:{idBanner:String,agenda:Array},emits:["cargarBanners"],data:()=>({nuevo:!1,guardando:!1,eliminando:"",error:""}),methods:{formatFecha:n=>new Date(n).toLocaleString(),async agendar(n){this.guardando=!0;try{await On.create(n),this.nuevo=!1,this.$emit("cargarBanners")}catch(e){console.error(e)}this.guardando=!1},async eliminarEvento(n){if(this.eliminando=n,window.confirm("¿Eliminar evento?"))try{await On.delete(n),this.$emit("cargarBanners")}catch(e){console.error(e)}this.eliminando=""}}},te=m();c("data-v-5d8dee7a");const oe={class:"divide-y"},ie=o(" Ubicación: "),se=o(" Fecha de inicio: "),le=o(" Fecha de fin: "),ce=o(" Con horario: "),de=o(" Recurrencia: "),ue={key:0},pe=o(" Semanas restantes: "),ge={class:"mt-auto flex justify-end pt-3 space-x-2"};d();const he=te(((r,o,s,l,c,d)=>{const u=i("EventoForm"),p=i("DeleteIcon");return n(),e(t,null,[c.nuevo?(n(),e(u,{key:1,idBanner:s.idBanner,guardando:c.guardando,onGuardar:d.agendar,onCerrar:o[2]||(o[2]=n=>c.nuevo=!1)},null,8,["idBanner","guardando","onGuardar"])):(n(),e("button",{key:0,class:"\r\n            mb-5\r\n            px-4\r\n            py-2\r\n            bg-pink-400\r\n            text-white\r\n            font-bold\r\n            rounded\r\n            hover:bg-pink-600\r\n        ",onClick:o[1]||(o[1]=n=>c.nuevo=!0)}," Agregar Evento ")),(n(!0),e(t,null,g(s.agenda,((r,t)=>(n(),e("div",{key:t,class:"bg-white shadow rounded px-8 py-6 mb-4"},[a("ul",oe,[a("li",null,[ie,a("span",null,y(r.ubicacion),1)]),a("li",null,[se,a("span",null,y(d.formatFecha(r.fechaIni)),1)]),a("li",null,[le,a("span",null,y(d.formatFecha(r.fechaFin)),1)]),a("li",null,[ce,a("span",null,y(r.horario?"Sí":"No"),1)]),a("li",null,[de,a("span",null,y(r.recurrencia),1)]),"semanal"===r.recurrencia?(n(),e("li",ue,[pe,a("span",null,y(r.iteracion),1)])):v("",!0)]),a("div",ge,[a(p,{class:["text-red-500",c.eliminando==r._id?"animate-bounce":"cursor-pointer"],onClick:n=>d.eliminarEvento(r._id)},null,8,["class","onClick"])])])))),128)),a("button",{class:"\r\n            mt-auto\r\n            px-4\r\n            py-2\r\n            bg-gray-400\r\n            text-white\r\n            font-bold\r\n            rounded\r\n            hover:bg-gray-600\r\n        ",type:"button",onClick:o[3]||(o[3]=n=>r.$emit("cerrar"))}," Volver ")],64)}));re.render=he,re.__scopeId="data-v-5d8dee7a";const me={name:"CalendarIcon"},be={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-calendar"},fe=a("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),xe=a("path",{d:"M16 2v4M8 2v4M3 10h18"},null,-1);me.render=function(a,r,t,o,i,s){return n(),e("svg",be,[fe,xe])};const ye={name:"BannerList",components:{BannerForm:Vn,BannerAgenda:re,EditIcon:hn,DeleteIcon:D,CalendarIcon:me},props:{banners:Array},emits:["cargarBanners"],data:()=>({edit:"",guardando:!1,eliminando:"",error:"",agenda:""}),methods:{urlDev:n=>"http://localhost:3000/"+n,async actualizarBanner(n){this.guardando=!0;try{await Un.update(this.edit,n),this.edit="",this.$emit("cargarBanners")}catch(e){console.error(e)}this.guardando=!1},async borrarBanner(n){if(this.eliminando=n,window.confirm("¿Eliminar banner?"))try{await Un.delete(n),this.$emit("cargarBanners")}catch(e){console.error(e)}this.eliminando=""}}},ve={key:0,class:"error"},ke={class:"grid grid-cols-3 gap-4"},we={class:"text-xl mb-2"},Ce={key:2,class:"flex-grow flex flex-col justify-between text-center"},Be={class:"mt-auto flex justify-end pt-3 space-x-2"};ye.render=function(r,o,s,l,c,d){const u=i("BannerForm"),p=i("BannerAgenda"),h=i("CalendarIcon"),m=i("EditIcon"),b=i("DeleteIcon");return n(),e(t,null,[c.error?(n(),e("p",ve,y(c.error),1)):v("",!0),a("div",ke,[(n(!0),e(t,null,g(s.banners,(t=>(n(),e("div",{key:t._id,class:"flex flex-col border rounded p-5 bg-gray-100 shadow"},[a("h2",we,y(t.tituloBanner),1),c.edit==t._id?(n(),e(u,{key:0,banner:t,guardando:c.guardando,onClose:o[1]||(o[1]=n=>c.edit=""),onGuardar:d.actualizarBanner},null,8,["banner","guardando","onGuardar"])):c.agenda===t._id?(n(),e(p,{key:1,idBanner:t._id,agenda:t.agenda,onCerrar:o[2]||(o[2]=n=>c.agenda=""),onCargarBanners:o[3]||(o[3]=n=>r.$emit("cargarBanners"))},null,8,["idBanner","agenda"])):(n(),e("div",Ce,[a("div",null,[a("img",{class:"mb-2 mx-auto rounded-lg",src:d.urlDev(t.imagenBanner),alt:t.tituloBanner},null,8,["src","alt"]),a("a",{href:t.urlBanner},y(t.urlBanner),9,["href"])]),a("div",Be,[a(h,{class:"text-blue-400 cursor-pointer",onClick:n=>c.agenda=t._id},null,8,["onClick"]),a(m,{class:"text-yellow-400 cursor-pointer",onClick:n=>c.edit=t._id},null,8,["onClick"]),a(b,{class:["text-red-500",c.eliminando==t._id?"animate-bounce":"cursor-pointer"],onClick:n=>d.borrarBanner(t._id)},null,8,["class","onClick"])])]))])))),128))])],64)};const Ie={name:"BannerMain",components:{BannerForm:Vn,BannerList:ye},data:()=>({banners:[],nuevo:!1,guardando:!1,error:""}),created(){this.cargarBanners()},methods:{async cargarBanners(){try{this.banners=await Un.index()}catch(n){this.error=n.message}},async crearBanner(n){this.guardando=!0,await Un.create(n),this.guardando=!1,this.nuevo=!1,this.cargarBanners()}}},De={class:"container mx-auto pb-10"},$e={key:0,class:"text-center bg-red-200 mb-5 p-4 rounded shadow"};Ie.render=function(r,t,o,s,l,c){const d=i("BannerForm"),u=i("BannerList");return n(),e("div",De,[l.error?(n(),e("div",$e,y(l.error),1)):v("",!0),l.nuevo?(n(),e(d,{key:2,guardando:l.guardando,onClose:t[2]||(t[2]=n=>l.nuevo=!1),onGuardar:c.crearBanner},null,8,["guardando","onGuardar"])):(n(),e("button",{key:1,class:"\r\n                w-full\r\n                border border-pink-600\r\n                rounded\r\n                mb-5\r\n                px-5\r\n                hover:bg-pink-600 hover:shadow\r\n                text-pink-600\r\n                hover:text-white\r\n                text-xl\r\n                uppercase\r\n                font-bold\r\n            ",onClick:t[1]||(t[1]=n=>l.nuevo=!0)}," Nuevo Banner ")),a(u,{banners:l.banners,onCargarBanners:c.cargarBanners},null,8,["banners","onCargarBanners"])])};const Se={name:"BannerTest",data:()=>({banners:{principal:"",ladito:""}}),created(){s(this.urlDev("api/banners/principal")).then((n=>this.banners.principal=this.urlDev(n.data.imagenBanner))).catch((n=>console.error(n))),s(this.urlDev("api/banners/ladito")).then((n=>this.banners.ladito=this.urlDev(n.data.imagenBanner))).catch((n=>console.error(n)))},methods:{urlDev:n=>"http://localhost:3000/"+n}},Fe={class:"container mx-auto flex flex-col items-center"},Ue=a("h1",{class:"mb-14 text-3xl"},"Serial Experiments Banners",-1),je={class:"mb-2 text-xl capitalize"};Se.render=function(r,o,i,s,l,c){return n(),e("div",Fe,[Ue,(n(!0),e(t,null,g(l.banners,((r,t)=>(n(),e("figure",{key:t,class:"mb-10"},[a("figcaption",je,y(t),1),a("img",{src:r,alt:`banner ${t}`,width:"336"},null,8,["src","alt"])])))),128))])};const _e={name:"NotFound"};_e.render=function(a,r,t,o,i,s){return n(),e("h1",null,"Error 404: No encontrado")};const Ee=[{path:"/panel/casa",component:$n},{path:"/panel/banners",component:Ie},{path:"/panel/banner_test",component:Se},{path:"/panel/:pathMatch(.*)",component:_e}],Ve=w({history:C(),routes:Ee});B(F).use(Ve).mount("body");
